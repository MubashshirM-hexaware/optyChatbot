!function(a,b){"function"==typeof define&&define.amd?define(["jquery"],b):a.GlobalHeaderNavMobile=b(a.$)}(this,function(a){return{domSelectors:{mobileNavContainer:".container-nav",globalHeader:"#global_header",desktopNav:".nav-site-level, .nav-primary-level",desktopHeader:".header-sitewide",mobileNavBurger:"header a.nav-burger",containerView:".container-view",mobileNavDimmer:".container-body-dimmer"},init:function(){var b=this,c=a(b.domSelectors.globalHeader).find(b.domSelectors.desktopNav),d=a(b.domSelectors.globalHeader).find(b.domSelectors.desktopHeader);c.clone().appendTo(b.domSelectors.mobileNavContainer),d.prepend('<a class="nav-burger" href="#menu">Menu</a>'),a(b.domSelectors.mobileNavBurger).bind("click",function(c){c.preventDefault(),a("body").hasClass("menu-is-open")||b.openMenu()}),a(b.domSelectors.mobileNavDimmer).bind("click",function(c){c.preventDefault(),a("body").hasClass("menu-is-open")&&b.closeMenu()}),b.accessibilityStart()},closeMenu:function(){var b=this;a(b.domSelectors.containerView).css("height","auto"),setTimeout(function(){a(b.domSelectors.mobileNavContainer).addClass("visuallyhidden"),a(b.domSelectors.mobileNavDimmer).addClass("visuallyhidden")},200),a("body").removeClass("menu-is-open"),b.mobileIsOpen=!1,b.accessibilityStart()},openMenu:function(){var b=this,c=a(b.domSelectors.mobileNavContainer);setTimeout(function(){var d=a(window).height()>c.height()?a(window).height():c.height();a(b.domSelectors.containerView).css("height",d)},1),c.removeClass("visuallyhidden"),a(".container-body-dimmer").removeClass("visuallyhidden"),a("body").addClass("menu-is-open"),b.mobileIsOpen=!0,b.accessibilityEnd()},accessibilityStart:function(){a(this.domSelectors.mobileNavContainer).find("a").each(function(){a(this).attr("tabindex",-1)})},accessibilityEnd:function(){a(this.domSelectors.mobileNavContainer).find("a").each(function(){a(this).removeAttr("tabindex")})}}});