!function(a,b){"function"==typeof define&&define.amd?define(["jquery"],b):a.GlobalHeaderNavDesktop=b(a.$)}(this,function(a){return{domSelectors:{navContainer:".nav-main",navPrimaryLevel:".nav-main .nav-primary-level",navItems:".nav-main .nav-primary-level > li",navHome:".nav-column-wrapper .ico-home",navForwardArrow:".nav-forward-arrow",navWrapper:".nav-main .nav-column-wrapper",navSeperator:".nav-main .nav-seperator",navHiddenItem:".navigation-hide"},navItemId:0,lastScrollValue:0,bInAnimation:!1,settings:{isPortable:!1,scrollPixelPerSecond:300,bDebug:!1},mediumCssWidth:960,init:function(b){var c=this;b&&(b.isPortable&&(c.settings.isPortable=b.isPortable),b.bDebug&&(c.settings.bDebug=b.bDebug)),a(".nav-primary-level a.active").bind("click",function(b){a(this).hasClass("tier2Link")||b.preventDefault()}),a(c.domSelectors.navForwardArrow).bind("click",function(a){a.preventDefault(),c.scrollNavItems()}),c.hasActiveNavItems()&&(c.showHomeButton(),c.animateTopNavItems()),c.reCalculateNavigationItems(),c.settings.isPortable||a(window).resize(function(){c.reCalculateNavigationItems()}),a(window).trigger("resize")},consoleLog:function(){this.settings.bDebug&&!a("html.lt-ie9").length&&console.log.apply(console,arguments)},reCalculateNavigationItems:function(){var b=this,c=0;a(b.domSelectors.navItems).not(b.domSelectors.navHiddenItem).each(function(){c+=a(this).outerWidth()}),c+=a(b.domSelectors.navHome).outerWidth(),c<b.mediumCssWidth&&(c=b.mediumCssWidth),a(b.domSelectors.navPrimaryLevel).width(c),b.hasHiddenNavItems()?b.showForwardArrow(!0):0===b.navItemId&&b.showForwardArrow(!1)},hasHiddenNavItems:function(){var b,c=this,d=a(c.domSelectors.navWrapper),e=0;if(c.hasActiveNavItems()?(b=a(c.domSelectors.navPrimaryLevel).find("> .active ul li ul li"),e=a(c.domSelectors.navPrimaryLevel).find("> .active ul").css("marginLeft"),e=parseInt(e,10)):b=a(c.domSelectors.navItems),0===b.length)return!1;var f=b.not(c.domSelectors.navHiddenItem).eq(-1),g=d.outerWidth(),h=f.outerWidth(),i=d.offset().left+d.width()-(f.offset().left+h);return c.consoleLog("hasHiddenNavItems",i,g),0>i?(c.consoleLog("hasHiddenNavItems() == true"),!0):(c.consoleLog("hasHiddenNavItems() == false"),!1)},showForwardArrow:function(b){b?(a(this.domSelectors.navForwardArrow).show(),a(this.domSelectors.navSeperator).hide()):(a(this.domSelectors.navForwardArrow).hide(),a(this.domSelectors.navSeperator).show())},animateTopNavItems:function(){var b=this,c=a(b.domSelectors.navItems);c.not(".active").hide();var d=c.filter(".active"),e=d.find("> ul"),f=e.find("ul"),g=5;d.addClass("transition-active"),f.children().each(function(){g+=a(this).outerWidth()+40}),window.setTimeout(function(){var c=d.outerWidth();e.css({"margin-left":c+"px",width:g+"px"}),f.css({width:g+"px"}),b.reCalculateNavigationItems(),b.consoleLog("activeItemWidth",a(".nav-main .nav-primary-level > li").filter(".active").outerWidth(),a(b.domSelectors.navHome).width(),c)},100)},showHomeButton:function(){a(this.domSelectors.navHome).show()},hasActiveNavItems:function(){var b=a(this.domSelectors.navItems);return!(!b.filter(".active").length||!b.find("> ul > li > ul > li").length)},msgAllDay:function(){var a="I can do this all day, son!";return console.log(a),a},scrollNavItems:function(){var a=this;a.bInAnimation||(a.checkEndOfNavigation()?a.scrollToNavItem(--a.navItemId,!1):a.scrollToNavItem(a.navItemId++,!0))},scrollToNavItem:function(b,c){var d,e,f=this,g=100;if(f.hasActiveNavItems()?(d=a(f.domSelectors.navPrimaryLevel).find("> .active ul li ul"),e=a(f.domSelectors.navWrapper).width()-parseInt(a(f.domSelectors.navPrimaryLevel).find("> .active ul").css("marginLeft"),10),g=d.width()-e,g+=a(f.domSelectors.navForwardArrow).width(),g+=12):(d=a(f.domSelectors.navPrimaryLevel),g=a(f.domSelectors.navPrimaryLevel).width()-a(f.domSelectors.navWrapper).width()),d){var h="-="+g+"px";c||(h="+="+f.lastScrollValue+"px"),f.bInAnimation=!0;var i=g/f.settings.scrollPixelPerSecond*1e3;d.animate({left:h},i,"linear",function(){f.bInAnimation=!1,f.checkEndOfNavigation()}),f.lastScrollValue=g,console.log("lastScrollValue",f.lastScrollValue)}},checkEndOfNavigation:function(){var b=this,c=!1;return 0===b.navItemId?(a(b.domSelectors.navForwardArrow).removeClass("ico-arrow-left").addClass("ico-arrow-right"),b.showForwardArrow(!1),b.reCalculateNavigationItems()):b.hasHiddenNavItems()?a(b.domSelectors.navForwardArrow).hasClass("ico-arrow-left")&&(c=!0):(a(b.domSelectors.navForwardArrow).removeClass("ico-arrow-right").addClass("ico-arrow-left"),c=!0),c}}});